<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.legacy.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.grids.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.frames.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.forms.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.tables.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.drawers.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.tabs.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/symphony.notices.css">
		<link rel="stylesheet" type="text/css" media="screen" href="../../../../assets/css/admin.css">
		<script type="text/javascript" src="../../../../assets/js/jquery.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.collapsible.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.orderable.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.selectable.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.duplicator.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.tags.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.pickable.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.timeago.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.notify.js"></script>
		<script type="text/javascript" src="../../../../assets/js/symphony.drawer.js"></script>
		<script type="text/javascript" src="../../../../assets/js/admin.js"></script>
		<script type="text/javascript">Symphony.Context.add('env', {"page-namespace":"\/blueprints\/events","0":"edit","1":"publish_article"}); Symphony.Context.add('root', '/apps/symphony/html');</script>
		<title>Publish Article &ndash; Events &ndash; Symphony</title>
	</head>
	<body id="blueprints-events" class="edit publish_article single">
		<div id="wrapper">
			<header id="header">
				<p class="notice">Your Symphony installation is up to date, but the installer was still detected. For security reasons, it should be removed. <a href="#remove">Remove installer?</a></p>
				<h1>
					<a href="../../../../../">Symphony CMS</a>
				</h1>
				<ul id="session">
					<li>
						<a href="../../../../system/authors/edit/1/" data-id="1" data-name="John" data-type="developer">John Smith</a>
					</li>
					<li>
						<a href="../../../../../" accesskey="l">Log out</a>
					</li>
				</ul>
				<nav id="nav">
					<ul class="content">
						<li>Content
							<ul>
								<li>
									<a href="../../../../publish/articles/">Articles</a>
								</li>
								<li>
									<a href="../../../../publish/categories/">Categories</a>
								</li>
								<li>
									<a href="../../../../publish/notes/">Notes</a>
								</li>
								<li>
									<a href="../../../../publish/comments/">Comments</a>
								</li>
								<li>
									<a href="../../../../publish/messages/">Messages</a>
								</li>
							</ul>
						</li>
					</ul>
					<ul class="structure">
						<li class="active">Blueprints
							<ul>
								<li>
									<a href="../../../../blueprints/pages/">Pages</a>
								</li>
								<li>
									<a href="../../../../blueprints/sections/">Sections</a>
								</li>
								<li>
									<a href="../../../../blueprints/datasources/">Data Sources</a>
								</li>
								<li>
									<a href="../../../../blueprints/events/">Events</a>
								</li>
								<li>
									<a href="../../../../blueprints/utilities/">Utilities</a>
								</li>
							</ul>
						</li>
						<li>System
							<ul>
								<li>
									<a href="../../../../system/authors/">Authors</a>
								</li>
								<li>
									<a href="../../../../system/preferences/">Preferences</a>
								</li>
								<li>
									<a href="../../../../system/extensions/">Extensions</a>
								</li>
							</ul>
						</li>
					</ul>
				</nav>
			</header>
			<div id="context">
				<div id="breadcrumbs">
					<nav>
						<p>
							<a href="../../../../blueprints/events/">Events</a>
							<span class="sep">&#8250;</span>
						</p>
					</nav>
					<h2>Publish Article</h2>
				</div>
			</div>
			<div id="contents">
				<form action="../../../../blueprints/events/edit/publish_article/" method="post">
					<fieldset class="settings picker">
						<legend>Essentials</legend>
						<div class="two columns">
							<div class="column">
								<label>Name
									<input name="fields[name]" type="text" value="Publish Article">
								</label>
							</div>
							<div class="column">
								<label>Source
									<select name="fields[source]" id="event-context" class="picker">
										<optgroup label="Sections" data-label="Sections">
											<option value="1" selected="selected">Articles</option>
											<option value="2">Categories</option>
											<option value="4">Comments</option>
											<option value="5">Images</option>
											<option value="6">Messages</option>
											<option value="3">Notes</option>
										</optgroup>
									</select>
								</label>
							</div>
						</div>
					</fieldset>
					<div id="Sections" class="pickable">
						<fieldset class="settings">
							<legend>Filters</legend>
							<p class="help">Event Filters add additional conditions or actions to an event.</p>
							<select name="fields[filters][]" multiple="multiple">
								<option value="admin-only" selected="selected">Admin Only</option>
								<option value="send-email">Send Notification Email</option>
								<option value="expect-multiple">Allow Multiple</option>
								<option value="xss-fail">Filter XSS: Fail if malicious input is detected</option>
							</select>
						</fieldset>
					</div>
					<fieldset class="settings"><legend>Description</legend>

        <h3>Success and Failure XML Examples</h3>
        <p>When saved successfully, the following XML will be returned:</p>
        <pre class="XML"><code>&lt;publish-article result="success" type="create | edit">
  &lt;message>Entry [created | edited] successfully.&lt;/message>
&lt;/publish-article></code></pre>
        <p>When an error occurs during saving, due to either missing or invalid fields, the following XML will be returned:</p>
        <pre class="XML"><code>&lt;publish-article result="error">
  &lt;message>Entry encountered errors when saving.&lt;/message>
  &lt;field-name type="invalid | missing" />
  ...
&lt;/publish-article></code></pre>
        <p>The following is an example of what is returned if any filters fail:</p>
        <pre class="XML"><code>&lt;publish-article result="error">
  &lt;message>Entry encountered errors when saving.&lt;/message>
  &lt;filter name="admin-only" status="failed" />
  &lt;filter name="send-email" status="failed">Recipient username was invalid&lt;/filter>
  ...
&lt;/publish-article></code></pre>
        <h3>Example Front-end Form Markup</h3>
        <p>This is an example of the form markup you can use on your frontend:</p>
        <pre class="XML"><code>&lt;form method="post" action="" enctype="multipart/form-data">
  &lt;input name="MAX_FILE_SIZE" type="hidden" value="5242880" />
  &lt;label>Title
    &lt;input name="fields[title]" type="text" />
  &lt;/label>
  &lt;label>Body
    &lt;textarea name="fields[body]" rows="20" cols="50">&lt;/textarea>
  &lt;/label>
  &lt;label>Date
    &lt;input name="fields[date]" type="text" />
  &lt;/label>
  &lt;input name="fields[categories]" type="hidden" value="..." />
  &lt;label>Publish
    &lt;input name="fields[publish]" type="checkbox" />
  &lt;/label>
  &lt;input name="action[publish-article]" type="submit" value="Submit" />
&lt;/form></code></pre>
        <p>To edit an existing entry, include the entry ID value of the entry in the form. This is best as a hidden field like so:</p>
        <pre class="XML"><code>&lt;input name="id" type="hidden" value="23" /></code></pre>
        <p>To redirect to a different location upon a successful save, include the redirect location in the form. This is best as a hidden field like so, where the value is the URL to redirect to:</p>
        <pre class="XML"><code>&lt;input name="redirect" type="hidden" value="http://example.com/success/" /></code></pre></fieldset>
					<div class="actions">
						<input name="action[save]" type="submit" value="Save Changes" accesskey="s">
						<button name="action[delete]" class="button confirm delete" title="Delete this event" type="submit" accesskey="d" data-message="Are you sure you want to delete this event?">Delete</button>
					</div>
				</form>
			</div>
		</div>
	</body>
</html>
